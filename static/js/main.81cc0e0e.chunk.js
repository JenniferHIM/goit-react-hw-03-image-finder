(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(t,e,a){t.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3jsGC","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3FKmo"}},13:function(t,e,a){t.exports={Button:"Button_Button__2YWUF"}},27:function(t,e,a){t.exports={ImageGallery:"ImageGallery_ImageGallery__a3LQs"}},28:function(t,e,a){t.exports={Notify:"Notify_Notify__16fv9"}},29:function(t,e,a){t.exports={App:"App_App__Qmq0i"}},34:function(t,e,a){},75:function(t,e,a){"use strict";a.r(e);var n=a(1),o=a.n(n),s=a(23),r=a.n(s),c=(a(34),a(14)),i=a(4),l=a(5),u=a(7),g=a(6),h=a(24),m=a.n(h),p=a(11),f=a.n(p),d=a(25),b=a(26),j=a.n(b),y=function(){var t=Object(d.a)(f.a.mark((function t(e,a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat("21282132-86f7ea58f9a9b3bb2c4722a7e","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),v=a(8),O=a.n(v),x=a(0),S=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={searchQuery:""},t.changeInput=function(e){t.setState({searchQuery:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.searchQuery)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.searchQuery;return Object(x.jsx)("header",{className:O.a.Searchbar,children:Object(x.jsxs)("form",{className:O.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(x.jsx)("button",{type:"submit",className:O.a.button,children:Object(x.jsx)("span",{className:O.a.label,children:"Search"})}),Object(x.jsx)("input",{className:O.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search pictures",value:t,onChange:this.changeInput})]})})}}]),a}(n.Component),I=a(12),w=a.n(I),_=function(t){var e=t.image,a=t.toggleModal;return Object(x.jsx)("li",{className:w.a.ImageGalleryItem,children:Object(x.jsx)("img",{className:w.a.image,src:e.webformatURL,alt:e.tags,onClick:function(){a({status:!0,src:e.largeImageURL,alt:e.tags})}})})},k=a(27),N=a.n(k),M=function(t){var e=t.images,a=t.toggleModal;return Object(x.jsx)("ul",{className:N.a.ImageGallery,children:e.map((function(t){return Object(x.jsx)(_,{image:t,toggleModal:a},t.id)}))})},B=a(28),C=a.n(B),L=function(t){var e=t.message;return Object(x.jsx)("p",{className:C.a.Notify,children:e})},G=a(9),F=a.n(G),Q=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).checkEvent=function(e){"Escape"!==e.key&&e.target!==e.currentTarget||t.props.toggleModal({status:!1})},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.checkEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.checkEvent)}},{key:"render",value:function(){var t=this.props,e=t.src,a=t.alt;return Object(x.jsx)("div",{className:F.a.Overlay,onClick:this.checkEvent,children:Object(x.jsx)("div",{className:F.a.Modal,children:Object(x.jsx)("img",{className:F.a.img,src:e,alt:a})})})}}]),a}(n.Component),A=a(13),E=a.n(A),P=function(t){var e=t.onClick;return Object(x.jsx)("div",{className:E.a.buttonBox,children:Object(x.jsx)("button",{className:E.a.Button,onClick:e,children:"Load more"})})},D=a(29),H=a.n(D),T=function(t){Object(u.a)(a,t);var e=Object(g.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={images:[],totalHits:0,searchQuery:"",page:1,isLoading:!1,error:null,notify:!1,message:"",showPopup:!1,showButton:!1,targetImage:null},t.onSubmit=function(e){t.setState({searchQuery:e})},t.onButtonMoreClick=function(){t.setState((function(t){return{page:t.page+1}}))},t.checkButtonAndNotify=function(){var e=t.state,a=e.totalHits;a>e.images.length?t.setState({showButton:!0}):t.setState({showButton:!1}),a?t.setState({notify:!1}):t.setState({message:"Nothing was found. Try again.",notify:!0})},t.toggleModal=function(e){var a=e.status,n=e.src,o=e.alt;a?t.setState({targetImage:{src:n,alt:o},showPopup:!0}):t.setState({targetImage:null,showPopup:!1})},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.searchImages()}},{key:"componentDidUpdate",value:function(t,e){var a=this.state,n=a.searchQuery,o=a.page;e.searchQuery!==n&&(this.searchImages(n,1),this.setState({page:1})),e.page!==o&&this.searchImages(n,o)}},{key:"searchImages",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;""!==e?(this.setState({isLoading:!0,notify:!1}),y(e,a).then((function(e){1===a?t.setState({totalHits:e.totalHits,images:e.hits}):(t.setState((function(t){return{images:[].concat(Object(c.a)(t.images),Object(c.a)(e.hits))}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})),t.checkButtonAndNotify()})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))):this.setState({images:[],showButton:!1,message:"Please input search request",notify:!0})}},{key:"render",value:function(){var t=this.state,e=t.images,a=t.isLoading,n=t.error,o=t.notify,s=t.message,r=t.showPopup,c=t.targetImage,i=t.showButton;return Object(x.jsxs)("div",{className:H.a.App,children:[Object(x.jsx)(S,{onSubmit:this.onSubmit}),n&&Object(x.jsx)(L,{message:"Something wrong: ".concat(n.message)}),a&&Object(x.jsx)(m.a,{type:"Circles",color:"#00BFFF",height:80,width:80}),e.length>0&&Object(x.jsx)(M,{images:e,toggleModal:this.toggleModal}),o&&Object(x.jsx)(L,{message:s}),r&&Object(x.jsx)(Q,{src:c.src,alt:c.alt,toggleModal:this.toggleModal}),i&&Object(x.jsx)(P,{onClick:this.onButtonMoreClick})]})}}]),a}(n.Component),U=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(e){var a=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,r=e.getTTFB;a(t),n(t),o(t),s(t),r(t)}))};r.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(T,{})}),document.getElementById("root")),U()},8:function(t,e,a){t.exports={Searchbar:"Searchbar_Searchbar__2LNRS"}},9:function(t,e,a){t.exports={Overlay:"Modal_Overlay__2fmic",Modal:"Modal_Modal__1izMi"}}},[[75,1,2]]]);
//# sourceMappingURL=main.81cc0e0e.chunk.js.map